# 版本升级

编排完毕，就可以进行升级操作了，系统会按照组的顺序，顺序执行，首先执行**脚本**，然后升级这个组内**应用**，同一组内，`脚本`的执行是**顺序**执行，`应用`的升级是**并行**升级

## 版本升级的功能

* 按照编排的曲线，展示执行结果视图。
* 能够支持升级策略
   * 应用失败跳过继续执行
   * 应用失败终止，支持人工审核，确认执行方式
   * 能够支持单应用的升级
* 应用记录本次升级镜像标识
* 支持应用的回滚，单应用的回滚

## 导出编排
* 将编排后的实例导出，替换发布包中的Json模板，形成新的带应用编排的发布包

* 现场获取到所内重新编排的json文件后，可以在现场升级中做微调即可

## 脚本的升级

升级脚本是通过调用SSC服务中心，接口传入Json模板文件，由SSC做升级操作
* SSC匹配Json，根据租户/项目，将对应的脚本执行在配置的数据库实例用户中。
* 分布式的数据库执行在SSC中控制
* SSC执行过程、结果，通过接口消息返回给一键升级界面，供整体视图展示

## 升级截图
![](/yi-jian-sheng-ji/ban-ben-sheng-ji-1.png)
